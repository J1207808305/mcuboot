language: c
compiler:
  - gcc

env:
  global:
  - secure: "Ew7lp+iYq+u3BSGayVdiOAC2iMkZWMNePkqJA1xKcpzA4kqIJxn9Hmfr5WHOaf5U2hRWd9Af5pkuuxxHvKDD5zkjqYFXtVW4BLLPxjy2opf3p21BjhcUuqKj99GkMZezrKK1JQOHtBktHwCVB2pIhZBE9tIqdFdSFlkjbqINgriyivSNMlTlfJdzOJPKz2vWOJgCQEO0ex5z1D4XXj6da3ngluPTul/aE0epVj076yo/uvIrFebgRfyU0aAkXlAU9WhWzIfVzpfG/uI/IZiRgik1DUP54MxNqCJ0hwv+V2Vdk9ncGG9sPZaLmCF7VkCTabx8FNYFZL3cLsR6lSJs5WN6J74G6zpS1KC732nmi13Cq7vAbnyCgZX1xqPCn6DgnvzO97CazGjniKimoo4ojWwFBmyaYxh+SKkJNE8stwqFWDfZb0dQfedZSsoU2S2RBUKOkug5fbOiQibV5yos9sfLSfw/+nhy9eD6Oft+hx4iE8GlbVoqhajUivUEdt99Z06kXJX/hAAcxq96HmspoXvWiDsFNSmfJwYHYyxQq5S0Xp1h95JCRGb+nKwNJ+saN83nYG7yXgs85TWu3WX62aN+PxyE03FMKPK37ZxETu9bbB6UGVfEjLXk57VkixRZnj2s5G5ytAbZ8DIZXwPOzmQcqf1sHZPDGdSbt6AXGLU="

before_install:
  - echo -n | openssl s_client -connect scan.coverity.com:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' | sudo tee -a /etc/ssl/certs/ca-

addons:
  coverity_scan:
    project:
      name: "runtimeco/mcuboot"
      version: 1.0
      description: "Secure boot for 32-bit Microcontrollers!"
    notification_email: utzig@apache.org
    build_command: "make -f Makefile.coverity"
    branch_pattern: "coverity_scan"

# do nothing here because coverity already runs the "build_command" above
script: ""
